<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <title>Schedule</title>

  {% comment %}
  <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
  <link type="text/css" rel="stylesheet" href="css/style.css" /> {% endcomment %}

  <style>
    .section {
      /* max-width: 500px; */
      margin: auto;
    }


    body {
      /* background-image: url('https://images.unsplash.com/photo-1518655048521-f130df041f66?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80'); */
    }
  </style>


</head>

<body>
  <!-- <h1>Hello, world!</h1> -->
  {% for message in messages %}
  <div class="alert {{ message.tags }} alert-dismissible my-0" id="msg" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ message | safe }}
  </div>
  {% endfor %}

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">
      <img src="https://content.interviewbit.com/sr-logo.png" width="30" height="30" class="d-inline-block align-top"
        alt="">
      Interview Scheduling Portal</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">

      </ul>
      <a class="navbar-brand" href="https://www.interviewbit.com/">
        <img src="https://i0.wp.com/blog.interviewbit.com/wp-content/uploads/2017/11/cropped-logo-transparent.png?ssl=1"
          width="60" height="40" class="d-inline-block align-top" alt="">
      </a>
    </div>
  </nav>

  <center>
    <div id="scheduling" class="section" style="margin-top: 40px;">
      <h2>Schedule an Interview</h2>
      <div class="card" style="width:750px; height:370px ; padding: 2px; margin: 10px 0px 30px 0px;">
        <img class="card-img-top" style="height:364px"
          src="https://images.unsplash.com/photo-1518655048521-f130df041f66?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80"
          alt="Card image">
        <div class="card-img-overlay">


          <div class="container" style="width: 550px;text-align:left;">
            <div class="scheduling-form">
              <form action="{% url 'schedule' %}" method="post">
                {% csrf_token %}

                <div class="form-group">
                  <span class="form-label" style="margin-left: 2px;">Interview Date</span>
                  <input class="form-control" type="date" name="date" required>
                </div>

                <div class="row no-margin">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <span class="form-label" style="margin-left: 2px;">Start-Time</span>
                      <input class="form-control" type="time" name="start-time" required>
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <div class="form-group">
                      <span class="form-label" style="margin-left: 2px;">End-Time</span>
                      <input class="form-control" type="time" name="end-time" required>
                    </div>
                  </div>
                </div>

                {% comment %} <div class="form-group">
                  <span class="form-label">Upload Resume</span>
                  <input class="form-control" type="file" name="upload" accept="application/pdf">
                </div> {% endcomment %}

                <div class="form-group">
                  <span class="form-label" style="margin-left: 2px;">Participants</span>
                  <select data-placeholder="Begin with adding participants in Database..." multiple
                    class="chosen-select" name="test" style="width: 520px;" required>

                    {% for each in candidate %}
                    <option value={{each.id}}>{{each.name}} - {{each.email}}</option>
                    {% endfor %}

                  </select>
                </div>

                <div class="row no-margin" style="margin-right: 0px;">
                  <div class="col-sm-6" style="margin-right: 0px;">
                    <div class="form-btn" style="margin-right: 0px; margin-left: 70px;">
                      <button type="submit" value="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </div>

                  <div class="col-sm-6" style="margin-right: 0px;">
                    <div class="form-btn" style="margin-right: 0px; margin-left: 120px;">
                      <button type="reset" class="btn btn-primary">Clear</button>
                    </div>
                  </div>
                </div>


              </form>

            </div>
          </div>
        </div>
      </div>
      <div class="table-container" style="margin: 15px 130px 50px 130px;">
        <table class="table table-bordered">
          <h2>Upcoming Interviews</h2>
          <thead class="thead-light">
            <tr>
              <th>Participant name</th>
              <th> Email</th>
              <th> Date</th>
              <th> Start time</th>
              <th> End time</th>
            </tr>
          </thead>
          <tbody>
            {% for entry in schedule %}
            <tr>
              <td>{{entry.candidate.name}}</td>
              <td>{{entry.candidate.email}}</td>
              <td>{{entry.slot.interview_date}}</td>
              <td>{{entry.slot.start_time}}</td>
              <td>{{entry.slot.end_time}}</td>
            </tr>
            {% endfor %}
          </tbody>

        </table>
      </div>



    </div>
  </center>
  <!-- Optional JavaScript -->
  <script>
    setTimeout(function () {
      if ($('#msg').length > 0) {
        $('#msg').remove();
      }
    }, 7000)
  </script>
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>